# Iterator

## Iterator의 기본 개념

데이터 스트림을 나타내는 객체이다. 이터레이터 타입의 객체들은 next()메서드를 통해 반복 호출 할 수 있다. 만약 next()메서드를 통해 모든 데이터를 호출하고 나면 StopIteration이라는 에러가 발생한다. 다시 말해 Iterator의 특징을 요약하면 다음과 같다.

- Iterator는 next()메서드를 통해 값을 하나씩 반환
- next()로 데이터를 불러올 수 없으면 StopIteration이라는 에러를 발생시킴

공식문서에는 다음과 같이 나와있다.

## Iterator Customizing

Iterator를 만들때는 Iter()를 사용하면 쉽게 Iterator로 만들 수 있지만 클래스를 사용하여 customizing 할 수 있다.

```python
class MyIter:
		def __ini__(self, li):
		    self.container = li
				self.index = 0
	
		def __iter__(self):  # iter함수를 호출했을때, __iter__를 호출한다. 인터페이스 역할
				return self
	
		def __next__(self):
        if self.index >= len(self.container):
						raise StopIteration
				ret = self.container[self.index]
				self.index += 1
				return ret
    
    
it_obj = MyIter([1, 2, 3, 4, 5])
type(it_obj)
>>> __main__.MyIter
it = iter(it_obj)
type(it)
>>> __main__.MyIter
```

## Iterator 와 Iterable

Iterator는 이렇게 하나씩 분리하여 호출 할 수 있는 하나의 객체라고 생각하면 편하다. 이에 반해 Iterable은 어떠한 객체들의 순회 가능하다는 것을 나타내는 용어이다. 이 Iterable 객체들은 iter()메서드를 통해 iterator 객체로 바꿀 수 있다. 

## 반복문에서의 Iterator

잘 생각해보면 우리가 흔히 사용하는 for문에서 list, str 등을 사용하여 그 안에 객체들을 순회하여 사용해 왔다. 이렇게 for문안에 iterable한 객체들을 사용할 때 따로 iterator 객체로 만들지 않고 사용할 수 있는 이유는, for문을 사용할 때 파이썬 내부에서 임시로 iterable객체들을 iterator로 변환해주기 때문이다.

> The for statement does that automatically for you, creating a temporary unnamed variable to hold the iterator for the duration of the loop.