# 2018-09-28 Django 수업 정리 


rendering 

관계형 데이터베이스 

ORM

template를 만드는 방법으로 django파일 밑에 개별적으로 templates폴더를 만든다 

파일의 정확한 경로의 값을 구하는 방법 

	os.path.abspath(__file__) 

특정 경로의 상위 폴더로 이동
	
	os.path.dirname(<경로>)
   
특정 경로에서 하위 폴더 또는 하위 파일을 나타냄

	os.path.join(<경로>, '<폴더/파일명>')
	
	마지막에 여러개를 한꺼번에 쓰는 것도 가능하다 
	ex) os.path.join(<경로>, '최상위 폴더', '상위 폴더', '원하는 파일')

파일 객체를 참조하는 방법

```python
1.
with open(path, 'rt') as f:
	content = f.read()

2.
f = open(path, 'rt')
content = f.read()
f.close()


3.
content = open(pathm, 'rt').read()
```
> 3.에서 파일 객체라는 것도 결국 변수를 가리키는 것이기 때문에 그 객체를 가리키는 변수가 사라지면 자동으로 사라진다 

- render함수

1번째 인수로 자신의 view의 첫 번째 매개변수인 request를 전달<br>
2번째 인수로 템플릿파일의 경로를 전달<br>
3번째 인수(선택)로 dict를 전달<br>

-> 템플릿파일의 경로에 있는 HTML을 가져와서 \{\{ \}\}와 같은 부분들에 동적으로 문자열을 생성<br>
생성된 결과를 HttpResponse로 돌려줌, 브라우저는 해당 결과를 받아 사용자에게 보여주게 됨

장고 쉘
python manage.py shell

장고 파일을 로드한 채로 ipython을 실행

from blog.models import Post		# Post객체를 가져온다

Post.objects.all()					# 쿼리셋이 나온다 


posts = Post.objects.all()
all은 해당 데이터가 가지고 있는 모든 데이터를 쿼리셋 형태로 가져온다 

get은 뒤에 조건을 넣어서 특정 필드가 조건에 맞는 데이터를 가져온다

원하는 조건만 가져오고 싶을때는 filter을 사용한다 
Post.objects.filter(title__contains='9월')
여기서 contains 앞에 _ 두개를 붙여준다

settings.py에 장고가 /static/<경로>/ 의 URL에서 <경로>에 해당하는 부분을 검색할 폴더 목록에 대한 설정을 해준다 


request -> runserver -> (Django) -> urlresolver(config.urls)
	r'^$'				-> blog.views.post_list
	r'^admin/'		-> [admin]
	r'^static/'		-> static 디렉토리 리턴

1. 개발모드에서 (settings.DEBUG가 True)
2. settings.STATIC_URL에 해당하는 request는
3. settings.STATICFILES_DIRS리스트 내의 경로목록 각각의 하위 위치에서 해당 파일을 검색, 존재할 경우 그 파일을 리턴해준다